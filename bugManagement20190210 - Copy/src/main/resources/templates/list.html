<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>欢迎使用bugList系统</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" th:href="@{css/bootstrap.min.css}" type="text/css"/>
</head>
<body>
<nav class="navbar navbar-static-top navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">Bug管理系统</a>
        </div>
    </div>
</nav>
<div class="container">
    <div class="row">
        <div class="center-block">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Bug列表  <a th:href="@{/insert}" input="button" class="btn btn-danger">新增Bug</a> </h3>
                </div>
                <div class="panel-body">
<div><table border="1" class="table table-striped table-bordered table-hover">
    <form th:action="@{/listpage}"  method="post">

        <tr>
            <td>项目名称</td>
            <td>


                <select name="pid">
                    <option value="0" text="请选择..."></option>
                    <option th:each="p:${projects}" th:value="${p.pid}"
                            th:text="${p.pname}"
                            th:selected="${pid}==${p.pid}">

                    </option>
                </select></td>

            <td>CR名称</td>
            <td>
                <select name="crid">
                    <option value="0" text="请选择..."></option>
                    <option th:each="crtype:${crtype}" th:value="${crtype.id}"
                            th:text="${crtype.name}"
                            th:selected="${crid}==${crtype.id}"></option>
                </select></td>



            <td>测试类型</td>
            <td>


                <select name="oid">
                    <option value="0" text="请选择..."></option>
                    <option th:each="testType:${testType}" th:value="${testType.id}"
                            th:text="${testType.name}"
                            th:selected="${oid}==${testType.id}"></option>
                </select></td></tr>
        <tr>

            <td>测试人员</td>
            <td>
                <select name="tester">
                    <option value="0">请选择...</option>
                    <option th:each="testers:${testers}" th:value="${testers.eid}"
                            th:text="${testers.ename}"
                            th:selected="${tester}==${testers.ename}"></option>
                </select></td>


            </td>
            <td>开发人员</td>
            <td>


                <select name="developer" th:value="${developer}" selected="selected">
                    <option value="0">请选择...</option>
                    <option th:each="developers:${developers}" th:value="${developers.eid}"
                            th:text="${developers.ename}"
                            th:selected="${developer}==${developers.ename}"></option>
                </select></td>
            <td>
                请选择条件
            </td>
            <td>
                <!--pid=${projects.pname},crid=${crtype.id},oid=${testType.id})-->
                <a><input type="submit" value="点击查询" class="btn btn-info"></a>
               <!-- <a th:href="@{/listpage(pid=${pid})}" input="button" class="btn btn-info">查看</a>-->
            </td>


        </tr></table></div>
    </form>
</div>
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-hover">
                            <tr border="1">
                                <th>客户名称</th>
                                <th>CR类型</th>
                                <th>测试类型</th>
                                <th>描述</th>
                                <th>解决方案</th>
                                <!--<th>根本原因</th>
                                <th>操作按钮</th>-->
                            </tr>
                            <tr th:each="bug:${list}">
                                <td th:text="${bug.pname}"></td>
                                <td th:text="${bug.crname}"></td>
                                <td th:text="${bug.oname}"></td>
                                <td th:text="${bug.description}"></td>
                             <!--   <td th:text="${bug.solution}"></td>
                                <td th:text="${bug.rca}"></td>-->
                                   <td>
                                    <a th:href="@{/findByIdpage(BugListId=${bug.id})}" input="button" class="btn btn-info">查看</a>
                                    <a th:href="@{/del(BugListId=${bug.id})}" input="button" class="btn btn-danger" onclick="alert('删除')">删除</a>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div align = "right" th:include="page :: page"  url="/listpage"></div>
                </div>
                </div>
            </div>
        </div>
    </div>
<nav class="navbar navbar-static-top navbar-inverse">
    <div class="container-fluid">
        <div class="panel-footer">
            <a align="center">CopyRight bug管理系统</a>
        </div>
    </div>
</nav>

</body>
</html>